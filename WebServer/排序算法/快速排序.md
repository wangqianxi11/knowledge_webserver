---
title: 快速排序
updated: 2025-05-21T14:22:14
created: 2025-05-19T20:13:33
---

**一、快速排序基本思想（分治法）**
1.  **选取基准（pivot）**
2.  **分区**：把小于 pivot 的放左边，大于的放右边
3.  **递归**：分别对左右子数组排序

实现：
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th><p>#include &lt;iostream&gt;</p>
<p>#include &lt;vector&gt;</p>
<p>using namespace std;</p>
<p></p>
<p>// Hoare 分区函数（使用 do...while）</p>
<p>int hoarePartition(vector&lt;int&gt;&amp; arr, int low, int high) {</p>
<p>int pivot = arr[low]; // 选最左边作为 pivot</p>
<p>int i = low - 1;</p>
<p>int j = high + 1;</p>
<p></p>
<p>while (true) {</p>
<p>do {</p>
<p>i++;</p>
<p>} while (arr[i] &lt; pivot); // 从左往右找 ≥ pivot 的元素</p>
<p></p>
<p>do {</p>
<p>j--;</p>
<p>} while (arr[j] &gt; pivot); // 从右往左找 ≤ pivot 的元素</p>
<p></p>
<p>if (i &gt;= j)</p>
<p>return j; // i 和 j 交错，返回分区点</p>
<p></p>
<p>swap(arr[i], arr[j]); // 交换 arr[i] 和 arr[j]</p>
<p>}</p>
<p>}</p>
<p></p>
<p>// 快速排序（基于 Hoare 分区）</p>
<p>void quickSort(vector&lt;int&gt;&amp; arr, int low, int high) {</p>
<p>if (low &lt; high) {</p>
<p>int p = hoarePartition(arr, low, high);</p>
<p>quickSort(arr, low, p); // 注意：递归到 p，而不是 p-1</p>
<p>quickSort(arr, p + 1, high);</p>
<p>}</p>
<p>}</p></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

