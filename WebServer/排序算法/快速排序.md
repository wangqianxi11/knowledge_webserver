---
title: 快速排序
updated: 2025-05-21T14:22:14
created: 2025-05-19T20:13:33
---

**一、快速排序基本思想（分治法）**
1.  **选取基准（pivot）**
2.  **分区**：把小于 pivot 的放左边，大于的放右边
3.  **递归**：分别对左右子数组排序

实现：
```c++

#include <iostream>

#include <vector>

using namespace std;

// Hoare 分区函数（使用 do...while）

int hoarePartition(vector<int>& arr, int low, int high) {

    int pivot = arr[low]; // 选最左边作为 pivot

    int i = low - 1;

    int j = high + 1;

    while (true) {

    do {

        i++;

    } while (arr[i] < pivot); // 从左往右找 ≥ pivot 的元素

    do {

        j--;

    } while (arr[j] > pivot); // 从右往左找 ≤ pivot 的元素

    if (i >= j)

        return j; // i 和 j 交错，返回分区点

        swap(arr[i], arr[j]); // 交换 arr[i] 和 arr[j]

    }

}

    // 快速排序（基于 Hoare 分区）

    void quickSort(vector<int>& arr, int low, int high) {

    if (low < high) {

        int p = hoarePartition(arr, low, high);

        quickSort(arr, low, p); // 注意：递归到 p，而不是 p-1

        quickSort(arr, p + 1, high);

    }

}
```
