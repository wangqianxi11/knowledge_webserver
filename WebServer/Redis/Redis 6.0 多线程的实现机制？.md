---
title: Redis 6.0 多线程的实现机制？
updated: 2025-06-16T10:32:07
created: 2025-06-14T14:10:43
---

**Redis 6.0 多线程的实现机制？**
Redis 的底层多线程指的是：**在数据读写、持久化、I/O 或特定命令执行等场景中引入多个线程并发处理**，而不是打破 Redis 的核心单线程命令执行模型。
#### 流程简述如下：
- 主线程负责接收建立连接请求，获取 Socket 放入全局等待读处理队列。
- 主线程处理完读事件之后，通过 RR（Round Robin）将这些连接分配给这些 IO 线程。
- 主线程阻塞等待 IO 线程读取 Socket 完毕。
- 主线程通过单线程的方式执行请求命令，请求数据读取并解析完成，但并不执行。
- 主线程阻塞等待 IO 线程将数据回写 Socket 完毕。

![image1](../../resources/79b47a25358141a39b772409192a977c.jpg)

该设计有如下特点：
- IO 线程要么同时在读 Socket，要么同时在写，不会同时读或写。
- IO 线程只负责读写 Socket 解析命令，不负责命令处理。
