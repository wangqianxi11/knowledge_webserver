---
title: 为什么要用 Redis 而不用 map/guava 做缓存?
updated: 2025-08-24T10:45:59
created: 2025-06-13T16:51:31
---

### 为什么要用 Redis 而不用 map/guava 做缓存
**缓存分为本地缓存和分布式缓存。**以java为例，使用自带的map或者guava实现的是本地缓存，最主要的特点是轻量以及快速，生命周期随着jvm的销毁而结束，并且在多实例的情况下，每个实例都需要各自保存一份缓存，缓存不具有一致性。
**使用Redis或memcached之类的称为分布式缓存，在多实例的情况下，各实例共用一份缓存数据，缓存具有一致性。**缺点是需要保持Redis或memcached服务的高可用，整个程序架构上较为复杂。
对比:
- Redis 可以用几十 G 内存来做缓存，Map 不行，一般 JVM 也就分几个 G 数据就够大了；
- **Redis 的缓存可以持久化**，Map 是内存对象，程序一重启数据就没了；
- **Redis 可以实现分布式的缓存**，Map 只能存在创建它的程序里；
- Redis 可以处理每秒百万级的并发，是专业的缓存服务，Map 只是一个普通的对象；
- **Redis 缓存有过期机制**，Map 本身无此功能；Redis 有丰富的 API，Map 就简单太多了；
- Redis可单独部署，多个项目之间可以空想，本地内存无法共享；
- Redis有专门的管理工具可以查看缓存数据。
