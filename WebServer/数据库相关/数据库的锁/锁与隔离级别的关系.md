---
title: 锁与隔离级别的关系
updated: 2025-08-23T17:04:14
created: 2025-06-13T16:08:01
---

数据库的**锁机制**与**事务隔离级别**密切相关，两者是**保证数据一致性和并发安全**的核心机制。我们可以理解为：
**隔离级别决定了数据库在执行事务时“如何加锁”和“加多少锁”。**

**一、事务隔离级别回顾（从低到高）**
| **隔离级别**         | **描述**               | **可能产生的问题**           |
|----------------------|------------------------|------------------------------|
| **Read Uncommitted** | 允许读未提交数据       | 脏读、不可重复读、幻读       |
| **Read Committed**   | 只能读已提交数据       | 不可重复读、幻读             |
| **Repeatable Read**  | 多次读同一数据结果一致 | 幻读（部分数据库防止了）     |
| **Serializable**     | 严格串行执行，完全隔离 | 无脏读、无不可重复读、无幻读 |

**二、锁与隔离级别的关系（以 MySQL InnoDB 为例）**
| **隔离级别** | **锁的使用方式（简化理解）** |
|----|----|
| **Read Uncommitted** | 几乎不加锁，允许读到未提交的数据（不安全） |
| **Read Committed** | 每次读取都加**短暂的共享锁（S锁）**，防止脏读 |
| **Repeatable Read** | 对读取的行加**长期共享锁（S锁）**，事务期间不能被其他人改写（防止不可重复读） |
| **Serializable** | 对所访问的**整张表加锁**（通常是范围锁或表锁），完全串行执行 |

**高级隔离级别会使用更多的锁，牺牲并发性来保证一致性。**
