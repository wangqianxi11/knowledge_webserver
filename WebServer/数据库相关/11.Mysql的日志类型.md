## 1. 错误日志
这是 **最重要的日志**，是排查数据库问题的首选。

- **功能**：记录 MySQL 服务启动、运行、停止过程中发生的**所有错误信息**、警告信息以及一些普通的诊断信息。

- **内容**：包括服务器启动和关闭的详细信息、关键错误（如表损坏）、执行过程中的警告等。

- **用途**：**故障排查的首要依据**。当数据库无法启动或运行出现异常时，首先就应该查看错误日志。

- 配置参数：

    - **log_error**: 指定错误日志的存放路径和文件名。

## 2. 二进制日志
这是 <b>数据备份和复制的核心</b>，对数据安全至关重要。

- **功能**：以二进制格式记录所有**更改数据**的 SQL 语句（INSERT, UPDATE, DELETE, DDL等）或实际改变的数据本身。它记录的是“事件”，而不是查询语句。

- 内容：数据库的所有**数据变更**操作。

- **用途**：

  - **主从复制**：从库通过读取主库的二进制日志，并在本地重放，来实现数据同步。

  - **数据恢复**：可以基于某个时间点的全量备份，然后重放二进制日志到某个时间点，实现<b>基于时间点的恢复</b>。

- **重要配置参数**：

    - `log_bin`: 指定二进制日志的路径和基础文件名。

    - `binlog_format`: 设置日志格式，非常重要！

      - `STATEMENT`: 记录 SQL 语句。日志量小，但某些函数（如 NOW()）可能导致主从数据不一致。
      - `ROW (推荐)`: 记录每行数据的变化细节。日志量大，但能保证数据绝对一致。这是 MySQL 5.7 及之后版本的默认设
      - `MIXED`: 混合模式，一般情况下用 STATEMENT，在不安全时自动切换为 ROW。

    - `expire_logs_days`: 设置二进制日志的过期时间，自动清理旧的日志文件，防止磁盘被写满。

## 3. 慢查询日志
**性能优化的利器**。

- **功能**：记录执行时间超过指定阈值的 SQL 查询语句。

- **内容**：执行时间长的 SQL 语句、执行所耗费的时间、返回的行数、扫描的行数等信息。

- **用途**：找出并优化那些执行效率低下的 SQL 语句，从而提升数据库整体性能。

- **重要配置参数**：

    - `slow_query_log`: 开启或关闭慢查询日志。

    - `slow_query_log_file`: 指定慢查询日志文件路径。

    - `long_query_time`: 定义“慢”的阈值，单位是秒。例如设置为 1，表示执行时间超过 1 秒的查询会被记录。

    - `log_queries_not_using_indexes`: 是否记录未使用索引的查询（即使执行时间很快）。

## 4. 通用查询日志
- **功能**：记录所有连接到数据库的客户端执行的所有 SQL 语句。

- **内容**：无论是查询还是修改，无论是成功还是失败，所有语句都会被记录下来。

- **用途**：用于审计或全面分析数据库操作。因为它会记录所有操作，对 I/O 性能影响很大，并且日志量会急剧增长。

- **建议：默认情况下绝不开启**，仅在需要审计或深度排查特定问题时临时开启，问题解决后立即关闭。

- **配置参数**：

    - `general_log`: 开启或关闭通用查询日志。

    - `general_log_file`: 指定通用查询日志文件路径。

## 5. 中继日志
<b>专门用于主从复制架构中的从库。</b>

- **功能**：从库的 I/O 线程从主库的二进制日志中读取数据变更事件，并将其写入本地的中继日志。然后从库的 SQL 线程再从中继日志中读取事件并在从库上应用。

- **内容**：与主库的二进制日志内容一致。

- **用途**：作为主库二进制日志在从库的临时中转站，是主从复制的核心组成部分。

- 注意：通常由 MySQL 复制进程自动管理，无需手动干预。