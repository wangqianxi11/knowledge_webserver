---
title: 左值和右值
updated: 2025-04-15T14:54:10
created: 2025-04-15T14:47:09
---
# 左值(Lvalue)和右值(Rvalue)
## 左值(Lvalue)
​​定义​​：可以取地址的、有名称的表达式

**​​特点**​​：
- 代表一个内存位置

- 可以出现在赋值语句的左边或右边

- 通常有持久的状态（生命周期超过表达式）
```c++
int x = 10; // x是左值
x = 20;     // x可以出现在赋值左边
int* p = &x; // 可以取x的地址
```
## 右值(Rvalue)

​​定义​​：临时性的、没有名称的表达式

**​​特点**​​：
- 通常是临时对象或字面量
- 只能出现在赋值语句的右边
- 生命周期通常仅限于当前表达式
```c++
int y = 5 + 3; // 5和3都是右值
y = x + 2;     // (x + 2)的结果是右值
```
## 与自增运算符的关系
- ++i返回的是左值（递增后的i本身）
- i++返回的是右值（递增前的i的临时副本）
# ++i 和 i++ 的区别
这两个都是C/C++中的自增运算符，但有以下关键区别：
## 1.​​执行顺序不同​​：
- ++i（前缀自增）：先增加i的值，然后返回增加后的值

- i++（后缀自增）：先返回i的原始值，然后增加i的值

## 2.效率差异​​：
- ++i通常比i++更高效，因为它不需要保存原始值的临时副本

- 对于内置类型，编译器通常会优化掉这种差异；但对于自定义类型（如迭代器），++i更高效


## move底层是怎么实现的？
Move的功能是将一个左值引用强制转化为右值引用，继而可以通过右值引用使用该值，以用于移动语义，从实现原理上讲基本等同一个强制类型转换。
优点：可以将左值变成右值而避免拷贝构造，将对象的状态所有权从一个对象转移到另一个对象，只是转移，没有内存搬迁或者内存拷贝。

