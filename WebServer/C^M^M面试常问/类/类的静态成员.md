---
title: 类的静态成员
updated: 2025-05-10T10:31:13
created: 2025-05-10T10:22:09
---

使用==<sub></sub>​static​<sub></sub>==关键字把类成员定义为静态的。
意味着无论创建多少个类的对象，静态对象都只有一个副本
静态成员在类的**所有对象中是共享的，只有一份内存空间**
必须**在类外单独定义和初始化**
**不属于任何特定对象**，即使没有创建类的实例也存在
1.  **声明和定义：**
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th><p>class MyClass {</p>
<p>public:</p>
<p>static int count; // 声明静态成员变量</p>
<p>};</p>
<p></p>
<p>// 定义并初始化静态成员变量</p>
<p>int MyClass::count = 0; // 必须在类外定义</p></th>
</tr>
</thead>
<tbody>
</tbody>
</table>
2.  **访问方式**:
- 通过类名访问：==<sub></sub>​MyClass::count​<sub></sub>==
- 通过对象访问：==<sub></sub>​obj.count​<sub></sub>==（不推荐，容易误解）

### 静态成员函数
1.  没有==<sub></sub>​this​<sub></sub>==指针
2.  可以直接访问类的静态成员
3.  可以通过类名直接调用，无需创建对象
**声明和定义**
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th><p>class MyClass {</p>
<p>public:</p>
<p>static void showCount() { // 静态成员函数</p>
<p>cout &lt;&lt; "Count: " &lt;&lt; count;</p>
<p>// 不能访问非静态成员，如：cout &lt;&lt; x; // 错误</p>
<p>}</p>
<p>static int count; // 静态成员变量</p>
<p>private:</p>
<p>int x; // 非静态成员变量</p>
<p>};</p></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

### 静态成员和单例模式
静态成员常用于实现单例模式
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th><p>class Singleton {</p>
<p>public:</p>
<p>static Singleton&amp; getInstance() {</p>
<p>static Singleton instance; // 保证线程安全（C++11起）</p>
<p>return instance;</p>
<p>}</p>
<p>// 删除拷贝构造函数和赋值运算符</p>
<p>Singleton(const Singleton&amp;) = delete;</p>
<p>Singleton&amp; operator=(const Singleton&amp;) = delete;</p>
<p></p>
<p>private:</p>
<p>Singleton() {} // 私有构造函数</p>
<p>};</p></th>
</tr>
</thead>
<tbody>
</tbody>
</table>
