---
title: 迭代器和指针的区别
updated: 2025-04-15T14:49:55
created: 2025-04-15T14:49:23
---

# 迭代器和指针的区别
迭代器不是指针，是一个模板类，通过重载了指针的一些操作符模拟了指针的一些功能，迭代器返回的是对象引用而不是对象的值。
指针能够指向函数而迭代器不行迭代器只能指向容器

简单来说：<b>所有指针都可以被视为一种迭代器，但并非所有迭代器都是指针。</b>

## 核心关系：迭代器是泛化的指针
指针的核心功能是：

- 解引用（*ptr）以访问它指向的对象。

- 通过加减运算（ptr++, ptr + n）来移动。

迭代器抽象并扩展了这个概念，为所有<b>容器（如 vector, list, map）</b>提供了一个统一的访问接口，无论其底层数据结构是数组、链表还是树。


|特性|	指针|	迭代器|
|------------------------|-----------------------------|-------------------------|
|本质|	一种变量，存储的是另一个变量的内存地址。	|一个类对象，它重载了类似指针的操作（如 *, ->, ++）。
|适用范围	|几乎唯一适用于连续内存的结构（如原生数组、动态数组）。	|适用于所有STL容器，包括连续内存的（vector, array）和非连续内存的（list, map, set）。
|功能分类	|功能上相当于随机访问迭代器，能力最强。	|分为5种类型：输入、输出、前向、双向、随机访问。不同容器提供不同能力的迭代器。
|有效性管理|	程序员手动管理。指向被释放的内存（悬空指针）是未定义行为。	|由容器管理。迭代器可能会失效（例如在 vector 插入元素后），但规则由容器明确界定。
|安全性	|相对不安全，容易发生越界、悬空等问题。	|更安全（尤其是指定了范围的迭代器），但依然需要程序员注意失效问题。某些调试模式下的STL会检查迭代器滥用。
|NULL值	|可以用 NULL 或 nullptr 表示空指针。	|每个容器都有 end() 迭代器表示“末尾之后”的位置，但没有普遍的“空迭代器”。通常用 container.end() 或默认构造的迭代器来表示无效状态。
