---
title: 指针
updated: 2025-04-16T20:13:30
created: 2025-04-16T19:37:37
---

### 函数指针
如果在程序中定义了一个函数，那么在编译时系统就会为这个函数代码分配一段存储空间，这段存储空 间的首地址称为这个函数的地址而且函数名表示的就是这个地址既然是地址我们就可以定义一个指针变量来存放，这个指针变量就叫作函数指针变量，简称函数指针
### 指针函数
函数的返回值是一个地址，返回值必须用同类型的指针变量来接收
### 指针和引用的异同？如何相互转换？
**相同：**
- 都是地址的概念，指针指向某一内存，内容是内存的地址；引用是某块内存的别名
- 从内存分配上来看，两者都占内存，程序为指针分配内存；引用的本质是指针常量，指向对象不能变，但指向对象的值可以变
**不同**
- 指针是实体，引用是别名
- 指针和引用的自增（++）运算符意义不同，指针是对内存地址自增，引用是对值的自增‘
- 指针需要解引用
- 引用只能在定义时被初始化一次，之后不可变；指针可变
- 引用不能为空，指针可以为空
### 野指针
- 野指针指向不可用内存的指针
- 指针被free或delete释放时，如果没有把指针设置为nullptr，则会产生野指针，因为释放的仅仅是指针指向的内存，并没有把指针本身释放
- 指针操作超越了变量的作用范围
**如何避免野指针**
- 对指针进行初始化
- 指针用完后释放内存，并赋值为nullptr
### C++中的智能指针是什么
智能指针是一个类，指向动态分配对象的指针
堆内存的申请和释放都是由程序员自己管理，管理堆内存可以提高程序的效率，但是管理比较麻烦
**智能指针的内存泄露如何解决？**
引入了弱指针weak_ptr，weak_ptr的构造函数不会修改引用计数的值，可以检测所管理的对象是否释放，从而避免非法访问
### this指针是什么
this指针本质上是一个成员函数的形参，对象调用成员函数时，将对象地址作为实参传递给this形参所以对象中不存储this指针
- this指针指向当前对象，可以访问当前对象的成员变量包括private、protected、public
- this指针是const指针，一切企图修改该指针的操作都不允许
- this函数只有在成员函数中才有定义
- 只有创建对象后，this指针才有意义
- static静态成员函数不能使用this指针，静态成员函数属于类，没有this函数
- this在成员函数的开始执行前构造

### 
